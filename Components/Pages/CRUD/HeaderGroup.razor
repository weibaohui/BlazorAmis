@page "/CRUD/HeaderGroup"
<PageTitle>表头分组</PageTitle>
<Amis Data="GetObj()"></Amis>

@code {

    private object GetObj()
    {
        var data = new
        {
            type = "page",
            title = "支持表头分组，通过在 cloumn 上设置 groupName 实现。",
            body = new object[]
            {
                new
                {
                    type = "crud",
                    syncLocation=false,
                    draggable = true,
                    bulkActions = new object[]
                    {
                        new
                        {
                            label = "批量删除",
                            actionType = "ajax",
                            api = "delete:/amis/api/mock2/sample/${ids|raw}",
                            confirmText = "确定要批量删除?"
                        },
                        new
                        {
                            label = "批量修改",
                            actionType = "dialog",
                            dialog = new
                            {
                                title = "批量编辑",
                                body = new
                                {
                                    type = "form",
                                    api = "/api/mock/Sample/Sample/BulkUpdate",
                                    body = new object[]
                                    {
                                        new { type = "hidden", name = "ids" },
                                        new { type = "input-text", name = "engine", label = "Engine" }
                                    }
                                }
                            }
                        }
                    },
                    columns = new object[]
                    {
                        new { name = "id", label = "ID", remark = "ID", groupName = "A",
                            //fixed = "left"
                        },
                        new { name = "grade", label = "CSS grade", remark = "CSS grade", groupName = "A",
                            // fixed = "left"
                        },
                        new { name = "engine", label = "Rendering engine", remark = "Rendering engine", groupName = "A",
                            // fixed = "left"
                        },
                        new { name = "browser", label = "Browser", remark = "Browser" },
                        new { name = "platform", label = "Platform(s)", remark = "Platform(s)", groupName = "B",
                            // fixed = "right"
                        },
                        new { name = "version", label = "Engine version", remark = "Engine version", groupName = "B",
                            // fixed = "right"
                        }
                    },
                    data = new
                    {
                        items = new object[]
                        {
                            new
                            {
                                engine = "Trident",
                                browser = "Internet Explorer 4.0",
                                platform = "Win 95+",
                                version = "4",
                                grade = "X",
                                id = 1,
                                children = new object[]
                                {
                                    new { engine = "Trident", browser = "Internet Explorer 4.0", platform = "Win 95+", version = "4", grade = "X", id = 1001 },
                                    new { engine = "Trident", browser = "Internet Explorer 5.0", platform = "Win 95+", version = "5", grade = "C", id = 1002 }
                                }
                            },
                            new
                            {
                                engine = "Trident",
                                browser = "Internet Explorer 5.0",
                                platform = "Win 95+",
                                version = "5",
                                grade = "C",
                                id = 2,
                                children = new object[]
                                {
                                    new { engine = "Trident", browser = "Internet Explorer 4.0", platform = "Win 95+", version = "4", grade = "X", id = 2001 },
                                    new { engine = "Trident", browser = "Internet Explorer 5.0", platform = "Win 95+", version = "5", grade = "C", id = 2002 }
                                }
                            },
                            new
                            {
                                engine = "Trident",
                                browser = "Internet Explorer 5.5",
                                platform = "Win 95+",
                                version = "5.5",
                                grade = "A",
                                id = 3,
                                children = new object[]
                                {
                                    new { engine = "Trident", browser = "Internet Explorer 4.0", platform = "Win 95+", version = "4", grade = "X", id = 3001 },
                                    new { engine = "Trident", browser = "Internet Explorer 5.0", platform = "Win 95+", version = "5", grade = "C", id = 3002 }
                                }
                            },
                            new
                            {
                                engine = "Trident",
                                browser = "Internet Explorer 6",
                                platform = "Win 98+",
                                version = "6",
                                grade = "A",
                                id = 4,
                                children = new object[]
                                {
                                    new { engine = "Trident", browser = "Internet Explorer 4.0", platform = "Win 95+", version = "4", grade = "X", id = 4001 },
                                    new { engine = "Trident", browser = "Internet Explorer 5.0", platform = "Win 95+", version = "5", grade = "C", id = 4002 }
                                }
                            },
                            new
                            {
                                engine = "Trident",
                                browser = "Internet Explorer 7",
                                platform = "Win XP SP2+",
                                version = "7",
                                grade = "A",
                                id = 5,
                                children = new object[]
                                {
                                    new { engine = "Trident", browser = "Internet Explorer 4.0", platform = "Win 95+", version = "4", grade = "X", id = 5001 },
                                    new { engine = "Trident", browser = "Internet Explorer 5.0", platform = "Win 95+", version = "5", grade = "C", id = 5002 }
                                }
                            }
                        }
                    }
                }
            }
        };
        return data;
    }

}
