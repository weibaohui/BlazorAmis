@page "/Event/Component/Input"
<PageTitle>Demo</PageTitle>
<Amis Data="GetObj()"></Amis>

@code {

    private object GetObj()
    {
        var data = new
        {
            type = "page",
            title = "输入类组件事件 待修复",
            regions = new object[] { "body", "toolbar", "header" },
            body = new object[]
            {
                new
                {
                    type = "tpl",
                    tpl = "事件",
                    inline = false,
                    wrapperComponent = "h1"
                },
                //TODO 修复
                // new
                // {
                //     type = "form",
                //     name = "input-event-form",
                //     debug = true,
                //     api = "https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm",
                //     body = new object[] { "click", "focus", "blur", "enter", "change" }.
                //         Select(
                //     event => new {
                //     name = @"{event}-dispatch",
                //     id = @"{event}-dispatch",
                //     type = "input-text",
                //     clearable = true,
                //     label = $"{event}事件测试",
                //     mode = "horizontal",
                //     horizontal = new
                //     {
                //         justify = true,
                //         left = 4
                //     },
                //     multiple = true,
                //     options = new object[]
                //     {
                //         new { label = "aa", value = "aa" },
                //         new { label = "bb", value = "bb" }
                //     },
                //     onEvent = new
                //     {
                //         [event] = new
                //         {
                //             actions = new object[]
                //             {
                //                 new
                //                 {
                //                     actionType = "toast",
                //                     args = new
                //                     {
                //                         msgType = "info",
                //                         msg = $"触发<b>{event}</b>事件"
                //                     }
                //                 }
                //             }
                //         }
                //     }
                // })
                // },
                new
                {
                    type = "divider"
                },
                new
                {
                    type = "tpl",
                    tpl = "动作",
                    inline = false,
                    wrapperComponent = "h1"
                },
                new
                {
                    type = "tpl",
                    tpl = "InputText输入框",
                    inline = false,
                    wrapperComponent = "h2"
                },
                new
                {
                    type = "form",
                    name = "text-form",
                    debug = true,
                    api = "https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm",
                    body = new object[]
                    {
                        new
                        {
                            type = "group",
                            body = new object[]
                            {
                                new
                                {
                                    name = "trigger1",
                                    id = "trigger1",
                                    type = "action",
                                    label = "clear触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "clear",
                                                    componentId = "clear-receiver",
                                                    description = "点击清空指定输入框的内容"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发clear事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "clear-receiver",
                                    id = "clear-receiver",
                                    type = "input-text",
                                    clearable = true,
                                    label = "clear动作测试",
                                    mode = "row",
                                    value = "chunk of text ready to be cleared."
                                }
                            }
                        },
                        new
                        {
                            type = "group",
                            body = new object[]
                            {
                                new
                                {
                                    name = "trigger2",
                                    id = "trigger2",
                                    type = "action",
                                    label = "focus触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "focus",
                                                    componentId = "focus-receiver",
                                                    description = "点击使指定输入框聚焦"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发focus事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "focus-receiver",
                                    id = "focus-receiver",
                                    type = "input-text",
                                    label = "focus动作测试",
                                    mode = "row"
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "divider"
                },
                new
                {
                    type = "tpl",
                    tpl = "Textarea 多行文本输入框",
                    inline = false,
                    wrapperComponent = "h2"
                },
                new
                {
                    type = "form",
                    name = "textarea-form",
                    debug = true,
                    api = "https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm",
                    body = new object[]
                    {
                        new
                        {
                            type = "group",
                            body = new object[]
                            {
                                new
                                {
                                    name = "textarea-trigger1",
                                    id = "textarea-trigger1",
                                    type = "action",
                                    label = "clear触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "clear",
                                                    componentId = "textarea-clear-receiver",
                                                    description = "点击清空指定输入框的内容"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发clear事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "textarea-clear-receiver",
                                    id = "textarea-clear-receiver",
                                    type = "textarea",
                                    clearable = true,
                                    label = "clear动作测试",
                                    mode = "row",
                                    value = "chunk of text ready to be cleared."
                                }
                            }
                        },
                        new
                        {
                            type = "group",
                            body = new object[]
                            {
                                new
                                {
                                    name = "textarea-trigger2",
                                    id = "textarea-trigger2",
                                    type = "action",
                                    label = "focus触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "focus",
                                                    componentId = "textarea-focus-receiver",
                                                    description = "点击使指定输入框聚焦"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发focus事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "textarea-focus-receiver",
                                    id = "textarea-focus-receiver",
                                    type = "textarea",
                                    label = "focus动作测试",
                                    mode = "row"
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "divider"
                },
                new
                {
                    type = "tpl",
                    tpl = "InputNumber数字输入框",
                    inline = false,
                    wrapperComponent = "h2"
                },
                new
                {
                    type = "form",
                    debug = true,
                    body = new object[]
                    {
                        new
                        {
                            type = "group",
                            body = new object[]
                            {
                                new
                                {
                                    name = "trigger1",
                                    id = "trigger1",
                                    type = "action",
                                    label = "clear触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "clear",
                                                    componentId = "clear-input-number-receiver",
                                                    description = "点击清空指定输入框的内容"
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "clear-input-number-receiver",
                                    id = "clear-input-number-receiver",
                                    type = "input-number",
                                    label = "clear动作测试",
                                    value = 1,
                                    onEvent = new
                                    {
                                        blur = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发blur事件"
                                                    }
                                                }
                                            }
                                        },
                                        focus = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发focus事件"
                                                    }
                                                }
                                            }
                                        },
                                        change = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发change事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "divider"
                },
                new
                {
                    type = "tpl",
                    tpl = "Editor 编辑器",
                    inline = false,
                    wrapperComponent = "h2"
                },
                new
                {
                    type = "form",
                    name = "editor-form",
                    debug = true,
                    api = "https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm",
                    body = new object[]
                    {
                        new
                        {
                            type = "group",
                            mode = "inline",
                            body = new object[]
                            {
                                new
                                {
                                    name = "editor-trigger2",
                                    id = "editor-trigger2",
                                    type = "action",
                                    label = "编辑器focus触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "focus",
                                                    componentId = "editor-focus-receiver",
                                                    description = "点击使指定输入框聚焦"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发focus事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "editor-focus-receiver",
                                    id = "editor-focus-receiver",
                                    type = "editor",
                                    language = "javascript",
                                    label = "编辑器focus动作测试",
                                    value = "function HelloWorld() {\n    console.log('Hello World');\n}",
                                    mode = "row"
                                }
                            }
                        },
                        new
                        {
                            type = "group",
                            mode = "inline",
                            body = new object[]
                            {
                                new
                                {
                                    name = "diffeditor-trigger2",
                                    id = "diffeditor-trigger2",
                                    type = "action",
                                    label = "对比编辑器focus触发器",
                                    level = "primary",
                                    onEvent = new
                                    {
                                        click = new
                                        {
                                            actions = new object[]
                                            {
                                                new
                                                {
                                                    actionType = "focus",
                                                    componentId = "diffeditor-focus-receiver",
                                                    description = "点击使指定输入框聚焦"
                                                },
                                                new
                                                {
                                                    actionType = "toast",
                                                    args = new
                                                    {
                                                        msgType = "info",
                                                        msg = "派发focus事件"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                new
                                {
                                    name = "diffeditor-focus-receiver",
                                    id = "diffeditor-focus-receiver",
                                    type = "diff-editor",
                                    label = "对比编辑器focus动作测试",
                                    diffValue = "function HelloWorld() {\n    console.log('Hello World');\n}",
                                    value = "function HelloWorld() {\n    console.log('Hello World!');\n}",
                                    mode = "row"
                                }
                            }
                        }
                    }
                }
            }
        };
        return data;
    }

}
