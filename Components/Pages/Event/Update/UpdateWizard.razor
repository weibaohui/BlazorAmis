@page "/Event/Update/Wizard"
<PageTitle>Demo</PageTitle>
<Amis Data="GetObj()"></Amis>

@code {

    private object GetObj()
    {
        var data = new
        {
            type = "page",
            data = new
            {
                globalData = new
                {
                    website = "http://www.baidu.com",
                    email = "amis!@baidu.com"
                }
            },
            body = new object[]
            {
                new
                {
                    type = "alert",
                    body = "直接更新指定的向导组件的数据。",
                    level = "info",
                    className = "mb-1"
                },
                new
                {
                    type = "button",
                    label = "更新",
                    level = "primary",
                    className = "mt-2 mb-2",
                    onEvent = new
                    {
                        click = new
                        {
                            actions = new object[]
                            {
                                new
                                {
                                    actionType = "setValue",
                                    componentId = "wizard_data",
                                    args = new
                                    {
                                        value = "${globalData}"
                                    }
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "wizard",
                    id = "wizard_data",
                    mode = "vertical",
                    data = new
                    {
                        website = "test",
                        email = "test"
                    },
                    steps = new object[]
                    {
                        new
                        {
                            title = "第一步",
                            body = new object[]
                            {
                                new
                                {
                                    name = "website",
                                    label = "网址",
                                    type = "input-url"
                                }
                            }
                        },
                        new
                        {
                            title = "Step 2",
                            body = new object[]
                            {
                                new
                                {
                                    name = "email",
                                    label = "邮箱",
                                    type = "input-email",
                                    required = true
                                }
                            }
                        }
                    }
                }
            }
        };
        return data;
    }

}
