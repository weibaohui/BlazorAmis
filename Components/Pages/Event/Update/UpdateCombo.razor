@page "/Event/Update/Combo"
<PageTitle>Demo</PageTitle>
<Amis Data="GetObj()"></Amis>

@code {

    private object GetObj()
    {
        var data = new
        {
            type = "page",
            id = "mypage",
            data = new
            {
                objData = new
                {
                    name = "路飞",
                    role = "海贼王"
                },
                arrayData = new object[]
                {
                    new
                    {
                        name = "苹果",
                        count = 10
                    },
                    new
                    {
                        name = "黄瓜",
                        count = 5
                    }
                }
            },
            body = new object[]
            {
                new
                {
                    type = "alert",
                    body = "直接更新指定输入组合的值，支持对象和数组。",
                    level = "info",
                    className = "mb-1"
                },
                new
                {
                    type = "button",
                    label = "更新对象类型数据",
                    level = "primary",
                    className = "mt-2 mb-2",
                    onEvent = new
                    {
                        click = new
                        {
                            actions = new object[]
                            {
                                new
                                {
                                    actionType = "setValue",
                                    componentId = "userinfo",
                                    args = new
                                    {
                                        value = "${objData}"
                                    }
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "combo",
                    name = "userinfo",
                    id = "userinfo",
                    label = "用户信息",
                    items = new object[]
                    {
                        new
                        {
                            name = "name",
                            label = "姓名",
                            type = "input-text"
                        },
                        new
                        {
                            name = "role",
                            label = "角色",
                            type = "input-text"
                        }
                    }
                },
                new
                {
                    type = "button",
                    label = "更新数组类型数据",
                    level = "primary",
                    className = "mt-2 mb-2",
                    onEvent = new
                    {
                        click = new
                        {
                            actions = new object[]
                            {
                                new
                                {
                                    actionType = "setValue",
                                    componentId = "shoppingcart",
                                    args = new
                                    {
                                        value = "${arrayData}"
                                    }
                                }
                            }
                        }
                    }
                },
                new
                {
                    type = "combo",
                    name = "shoppingcart",
                    id = "shoppingcart",
                    label = "购物车",
                    multiple = true,
                    items = new object[]
                    {
                        new
                        {
                            name = "name",
                            label = "商品名称",
                            type = "input-text"
                        },
                        new
                        {
                            name = "count",
                            label = "购买数量",
                            type = "input-text"
                        }
                    }
                }
            }
        };
        return data;
    }

}
