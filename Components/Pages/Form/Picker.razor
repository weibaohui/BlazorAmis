@*
@page "/Picker"
<Amis Data="GetObj()"></Amis>

@code {

    private object GetObj()
    {
        var data = new
        {
            title = "表格编辑",
            body = new
            {
                type = "form",
                mode = "horizontal",
                api = "https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/form/saveForm?waitSeconds=2",
                actions = new object[]
                {
                    new
                    {
                        type = "submit",
                        label = "提交",
                        primary = true
                    }
                },
                body = new object[]
                {
                    new
                    {
                        type = "divider"
                    },
                    new
                    {
                        type = "picker",
                        name = "type",
                        label = "单选",
                        value = 1,
                        inline = true,
                        options = new object[]
                        {
                            new
                            {
                                label = "选项1",
                                value = 1
                            },
                            new
                            {
                                label = "选项2",
                                value = 2
                            },
                            new
                            {
                                label = "选项3",
                                value = 3
                            },
                            new
                            {
                                label = "选项4",
                                value = 4
                            }
                        },
                        onEvent = new
                        {
                            itemClick = new
                            {
                                actions = new object[]
                                {
                                    new
                                    {
                                        actionType = "alert",
                                        args = new
                                        {
                                            msg = "${item.label}~${item.value}</a>"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    new
                    {
                        type = "picker",
                        name = "type2",
                        label = "多选",
                        multiple = true,
                        options = new object[]
                        {
                            new
                            {
                                label = "选项1",
                                value = 1
                            },
                            new
                            {
                                label = "选项2",
                                value = 2
                            },
                            new
                            {
                                label = "选项3",
                                value = 3
                            },
                            new
                            {
                                label = "选项4",
                                value = 4
                            }
                        }
                    },
                    new
                    {
                        type = "divider"
                    },
                    new
                    {
                        type = "divider"
                    },
                    new
                    {
                        type = "picker",
                        name = "type3",
                        joinValues = true,
                        valueField = "id",
                        labelField = "engine",
                        label = "单选",
                        source = "/api/sample",
                        size = "lg",
                        value = "4",
                        pickerSchema = new
                        {
                            mode = "table",
                            name = "thelist",
                            quickSaveApi = "/api/sample/bulkUpdate",
                            quickSaveItemApi = "/api/sample/$id",
                            draggable = true,
                            headerToolbar = new
                            {
                                wrapWithPanel = false,
                                type = "form",
                                className = "text-right",
                                target = "thelist",
                                mode = "inline",
                                body = new object[]
                                {
                                    new
                                    {
                                        type = "input-text",
                                        name = "keywords",
                                        addOn = new
                                        {
                                            type = "submit",
                                            label = "搜索",
                                            level = "primary",
                                            icon = "fa fa-search pull-left"
                                        }
                                    }
                                }
                            },
                            columns = new object[]
                            {
                                new
                                {
                                    name = "engine",
                                    label = "Rendering engine",
                                    sortable = true,
                                    searchable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "browser",
                                    label = "Browser",
                                    sortable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "platform",
                                    label = "Platform(s)",
                                    sortable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "version",
                                    label = "Engine version",
                                    quickEdit = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "grade",
                                    label = "CSS grade",
                                    quickEdit = new
                                    {
                                        mode = "inline",
                                        type = "select",
                                        options = new string[] { "A", "B", "C", "D", "X" },
                                        saveImmediately = true
                                    },
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    type = "operation",
                                    label = "操作",
                                    width = 100,
                                    buttons = new object[]
                                    {
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-eye",
                                            actionType = "dialog",
                                            dialog = new
                                            {
                                                title = "查看",
                                                body = new
                                                {
                                                    type = "form",
                                                    body = new object[]
                                                    {
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "engine",
                                                            label = "Engine"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "browser",
                                                            label = "Browser"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "platform",
                                                            label = "Platform(s)"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "version",
                                                            label = "Engine version"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "grade",
                                                            label = "CSS grade"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "html",
                                                            html = "<p>添加其他 <span>Html 片段</span> 需要支持变量替换（todo）.</p>"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-pencil",
                                            actionType = "dialog",
                                            dialog = new
                                            {
                                                position = "left",
                                                size = "lg",
                                                title = "编辑",
                                                body = new
                                                {
                                                    type = "form",
                                                    name = "sample-edit-form",
                                                    api = "/api/sample/$id",
                                                    body = new object[]
                                                    {
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "engine",
                                                            label = "Engine",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "browser",
                                                            label = "Browser",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "platform",
                                                            label = "Platform(s)",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "version",
                                                            label = "Engine version"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "select",
                                                            name = "grade",
                                                            label = "CSS grade",
                                                            options = new string[] { "A", "B", "C", "D", "X" }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-times text-danger",
                                            actionType = "ajax",
                                            confirmText = "您确认要删除?",
                                            api = "delete:/api/sample/$id"
                                        }
                                    },
                                    toggled = true
                                }
                            }
                        },
                        onEvent = new
                        {
                            itemClick = new
                            {
                                actions = new object[]
                                {
                                    new
                                    {
                                        actionType = "alert",
                                        args = new
                                        {
                                            msg = "${item|json}</a>"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    new
                    {
                        type = "picker",
                        name = "type4",
                        joinValues = true,
                        valueField = "id",
                        labelField = "engine",
                        label = "多选",
                        source = "/api/sample",
                        size = "lg",
                        value = "4,5",
                        multiple = true,
                        pickerSchema = new
                        {
                            mode = "table",
                            name = "thelist",
                            quickSaveApi = "/api/sample/bulkUpdate",
                            quickSaveItemApi = "/api/sample/$id",
                            draggable = true,
                            headerToolbar = new
                            {
                                wrapWithPanel = false,
                                type = "form",
                                className = "text-right",
                                target = "thelist",
                                mode = "inline",
                                body = new object[]
                                {
                                    new
                                    {
                                        type = "input-text",
                                        name = "keywords",
                                        addOn = new
                                        {
                                            type = "submit",
                                            label = "搜索",
                                            level = "primary",
                                            icon = "fa fa-search pull-left"
                                        }
                                    }
                                }
                            },
                            columns = new object[]
                            {
                                new
                                {
                                    name = "engine",
                                    label = "Rendering engine",
                                    sortable = true,
                                    searchable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "browser",
                                    label = "Browser",
                                    sortable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "platform",
                                    label = "Platform(s)",
                                    sortable = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "version",
                                    label = "Engine version",
                                    quickEdit = true,
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    name = "grade",
                                    label = "CSS grade",
                                    quickEdit = new
                                    {
                                        mode = "inline",
                                        type = "select",
                                        options = new string[] { "A", "B", "C", "D", "X" },
                                        saveImmediately = true
                                    },
                                    type = "text",
                                    toggled = true
                                },
                                new
                                {
                                    type = "operation",
                                    label = "操作",
                                    width = 100,
                                    buttons = new object[]
                                    {
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-eye",
                                            actionType = "dialog",
                                            dialog = new
                                            {
                                                title = "查看",
                                                body = new
                                                {
                                                    type = "form",
                                                    body = new object[]
                                                    {
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "engine",
                                                            label = "Engine"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "browser",
                                                            label = "Browser"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "platform",
                                                            label = "Platform(s)"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "version",
                                                            label = "Engine version"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "static",
                                                            name = "grade",
                                                            label = "CSS grade"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "html",
                                                            html = "<p>添加其他 <span>Html 片段</span> 需要支持变量替换（todo）.</p>"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-pencil",
                                            actionType = "dialog",
                                            dialog = new
                                            {
                                                position = "left",
                                                size = "lg",
                                                title = "编辑",
                                                body = new
                                                {
                                                    type = "form",
                                                    name = "sample-edit-form",
                                                    api = "/api/sample/$id",
                                                    body = new object[]
                                                    {
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "engine",
                                                            label = "Engine",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "browser",
                                                            label = "Browser",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "platform",
                                                            label = "Platform(s)",
                                                            required = true
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "input-text",
                                                            name = "version",
                                                            label = "Engine version"
                                                        },
                                                        new
                                                        {
                                                            type = "divider"
                                                        },
                                                        new
                                                        {
                                                            type = "select",
                                                            name = "grade",
                                                            label = "CSS grade",
                                                            options = new string[] { "A", "B", "C", "D", "X" }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        new
                                        {
                                            type = "button",
                                            icon = "fa fa-times text-danger",
                                            actionType = "ajax",
                                            confirmText = "您确认要删除?",
                                            api = "delete:/api/sample/$id"
                                        }
                                    },
                                    toggled = true
                                }
                            }
                        },
                        onEvent = new
                        {
                            itemClick = new
                            {
                                actions = new object[]
                                {
                                    new
                                    {
                                        actionType = "alert",
                                        args = new
                                        {
                                            msg = "${item|json}</a>"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    new
                    {
                        type = "divider"
                    },
                    new
                    {
                        type = "divider"
                    },
                    new
                    {
                        type = "picker",
                        name = "type5",
                        joinValues = true,
                        valueField = "id",
                        labelField = "engine",
                        label = "单选",
                        source = "/api/sample",
                        size = "lg",
                        value = "4",
                        pickerSchema = new
                        {
                            mode = "list",
                            name = "thelist",
                            quickSaveApi = "/api/sample/bulkUpdate",
                            quickSaveItemApi = "/api/sample/$id",
                            draggable = true,
                            headerToolbar = new
                            {
                                wrapWithPanel = false,
                                type = "form",
                                className = "text-right",
                                target = "thelist",
                                mode = "inline",
                                body = new object[]
                                {
                                    new
                                    {
                                        type = "input-text",
                                        name = "keywords",
                                        addOn = new
                                        {
                                            type = "submit",
                                            label = "搜索",
                                            level = "primary",
                                            icon = "fa fa-search pull-left"
                                        }
                                    }
                                }
                            },
                            listItem = new
                            {
                                actions = new object[]
                                {
                                    new
                                    {
                                        type = "button",
                                        icon = "fa fa-eye",
                                        actionType = "dialog",
                                        dialog = new
                                        {
                                            title = "查看",
                                            body = new
                                            {
                                                type = "form",
                                                body = new object[]
                                                {
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "engine",
                                                        label = "Engine"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "browser",
                                                        label = "Browser"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "platform",
                                                        label = "Platform(s)"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "version",
                                                        label = "Engine version"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "grade",
                                                        label = "CSS grade"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "html",
                                                        html = "<p>添加其他 <span>Html 片段</span> 需要支持变量替换（todo）.</p>"
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    new
                                    {
                                        type = "button",
                                        icon = "fa fa-pencil",
                                        actionType = "dialog",
                                        dialog = new
                                        {
                                            title = "编辑",
                                            body = new
                                            {
                                                type = "form",
                                                name = "sample-edit-form",
                                                api = "/api/sample/$id",
                                                body = new object[]
                                                {
                                                    new
                                                    {
                                                        type = "input-text",
                                                        name = "engine",
                                                        label = "Engine",
                                                        required = true
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "input-text",
                                                        name = "browser",
                                                        label = "Browser",
                                                        required = true
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "input-text",
                                                        name = "platform",
                                                        label = "Platform(s)",
                                                        required = true
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "input-text",
                                                        name = "version",
                                                        label = "Engine version"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "input-text",
                                                        name = "grade",
                                                        label = "CSS grade"
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    new
                                    {
                                        type = "button",
                                        icon = "fa fa-times text-danger",
                                        actionType = "ajax",
                                        confirmText = "您确认要删除?",
                                        api = "delete:/api/sample/$id"
                                    }
                                },
                                body = new object[]
                                {
                                    new
                                    {
                                        name = "engine",
                                        label = "Rendering engine",
                                        sortable = true,
                                        quickEdit = true,
                                        labelClassName = "w-sm"
                                    },
                                    new
                                    {
                                        type = "hbox",
                                        columns = new object[]
                                        {
                                            new
                                            {
                                                name = "browser",
                                                label = "Browser",
                                                labelClassName = "w-sm"
                                            },
                                            new
                                            {
                                                name = "platform",
                                                label = "Platform(s)",
                                                labelClassName = "w-sm"
                                            }
                                        }
                                    },
                                    new
                                    {
                                        name = "version",
                                        label = "Engine version",
                                        labelClassName = "w-sm"
                                    }
                                }
                            }
                        }
                    },
                    new
                    {
                        type = "picker",
                        name = "type6",
                        joinValues = true,
                        valueField = "id",
                        labelField = "engine",
                        label = "多选",
                        source = "/api/sample",
                        size = "lg",
                        value = "4,5",
                        multiple = true,
                        pickerSchema = new
                        {
                            mode = "list",
                            name = "thelist",
                            quickSaveApi = "/api/sample/bulkUpdate",
                            quickSaveItemApi = "/api/sample/$id",
                            draggable = true,
                            headerToolbar = new
                            {
                                wrapWithPanel = false,
                                type = "form",
                                className = "text-right",
                                target = "thelist",
                                mode = "inline",
                                body = new object[]
                                {
                                    new
                                    {
                                        type = "input-text",
                                        name = "keywords",
                                        addOn = new
                                        {
                                            type = "submit",
                                            label = "搜索",
                                            level = "primary",
                                            icon = "fa fa-search pull-left"
                                        }
                                    }
                                }
                            },
                            listItem = new
                            {
                                actions = new object[]
                                {
                                    new
                                    {
                                        type = "button",
                                        icon = "fa fa-eye",
                                        actionType = "dialog",
                                        dialog = new
                                        {
                                            title = "查看",
                                            body = new
                                            {
                                                type = "form",
                                                body = new object[]
                                                {
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "engine",
                                                        label = "Engine"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },
                                                    new
                                                    {
                                                        type = "static",
                                                        name = "browser",
                                                        label = "Browser"
                                                    },
                                                    new
                                                    {
                                                        type = "divider"
                                                    },

                                                    return data;
                                                }
                                            }
                                            *@
